(function(){"use strict";var e={6361:function(e,t,r){var o=r(6369),s=r(2631),a=r(8499),i=r.n(a),n=r(4193),l=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("MainLayout")],1)},u=[],c=function(){var e=this,t=e._self._c;return t("div",[t("el-header",[t("el-row",[t("el-col",{staticStyle:{"text-align":"left","font-size":"28px","font-weight":"bold",color:"#eee","text-decoration-line":"underline","text-decoration-style":"wavy"},attrs:{span:12}},[t("span",[e._v("Stepmedia")])]),t("el-col",{staticStyle:{"text-align":"right","font-size":"18px",color:"#eee","font-style":"oblique"},attrs:{span:12}},[t("span",[e._v("Small demonstration")])])],1)],1),t("el-container",{staticStyle:{border:"0px solid #eee"}},[t("el-aside",{attrs:{width:"63px"}},[t("el-menu",{attrs:{router:!0,"default-active":"/orders",collapse:!0,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-order"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Orders")])]),t("el-menu-item-group",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Manage orders:")]),t("el-menu-item",{attrs:{index:"/orders"}},[t("i",{staticClass:"el-icon-notebook-2"}),e._v("List")]),t("el-menu-item",{attrs:{index:"/new-order"}},[t("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("New")])],1)],2),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-cooperation"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Products")])]),t("el-menu-item-group",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Manage products:")]),t("el-menu-item",{attrs:{index:"/products"}},[t("i",{staticClass:"el-icon-notebook-2"}),e._v("List")]),t("el-menu-item",{attrs:{index:"/new-product"}},[t("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("New")])],1)],2),t("el-submenu",{attrs:{index:"3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-custom"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Customers")])]),t("el-menu-item-group",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Manage customers:")]),t("el-menu-item",{attrs:{index:"/customers"}},[t("i",{staticClass:"el-icon-notebook-2"}),e._v("List")]),t("el-menu-item",{attrs:{index:"/new-customer"}},[t("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("New")])],1)],2),t("el-submenu",{attrs:{index:"4"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-shop"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Shops")])]),t("el-menu-item-group",[t("span",{attrs:{slot:"title"},slot:"title"},[e._v("Manage shops:")]),t("el-menu-item",{attrs:{index:"/shops"}},[t("i",{staticClass:"el-icon-notebook-2"}),e._v("List")]),t("el-menu-item",{attrs:{index:"/new-shop"}},[t("i",{staticClass:"el-icon-circle-plus-outline"}),e._v("New")])],1)],2)],1)],1),t("el-container",[t("el-main",{staticStyle:{"background-color":"#ffff"}},[t("router-view")],1)],1)],1)],1)},d=[],p={computed:{},mounted(){}},m=p,h=r(1001),g=(0,h.Z)(m,c,d,!1,null,"c10432b0",null),f=g.exports,w={name:"App",components:{MainLayout:f}},v=w,b=(0,h.Z)(v,l,u,!1,null,null,null),y=b.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("ORDER LIST")]),e.data&&e.data.length>0?t("div",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:"","default-sort":{prop:"id",order:"descending"}},on:{"sort-change":e.sortChange}},[t("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(r){return[r.row.items&&r.row.items.length>0?t("div",{staticStyle:{"margin-left":"50px"}},[t("el-table",{attrs:{size:"mini",data:r.row.items}},[t("el-table-column",{attrs:{label:"Product"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",{staticStyle:{"margin-left":"10px","font-style":"italic"}},[e._v(e._s(r.row.productName))])]}}],null,!0)}),t("el-table-column",{attrs:{label:"Quantity"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{size:"small"}},[e._v(e._s(r.row.quantity)+" items")])]}}],null,!0)}),t("el-table-column",{attrs:{label:"Unit price"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{size:"small"}},[e._v(e._s(r.row.unitPrice)+" đ")])]}}],null,!0)})],1)],1):t("el-empty",{attrs:{description:"Empty product"}})]}}],null,!1,2137961624)}),t("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",sortable:""}}),t("el-table-column",{attrs:{prop:"customerName",label:"Customer"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"default",size:"small"}},[e._v(e._s(r.row.customerName))])]}}],null,!1,1575566412)}),t("el-table-column",{attrs:{prop:"shopName",label:"Shop"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"warning",size:"small"}},[e._v(e._s(r.row.shopName))])]}}],null,!1,3675230061)}),t("el-table-column",{attrs:{prop:"total",label:"Total"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"success",size:"small"}},[e._v(e._s(r.row.total)+" đ")])]}}],null,!1,3933543007)})],1),t("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, total",total:e.total,"page-size":e.pageSize,"page-sizes":[10,15,20,25,30]},on:{"current-change":e.changePage,"size-change":e.sizeChange}})],1):t("el-empty",{attrs:{description:"No records found!"}})],1)},x=[],_={data(){return{data:[],total:0,pageNumber:1,pageSize:10,loading:!1,sortBy:"id",sortOrder:"descending"}},created(){this.fetch(this.pageNumber,this.pageSize,this.sortBy,this.sortOrder)},methods:{async fetch(e,t,r,o){this.loading=!0;var s=`/orders?page=${e}&pageSize=${t}`;r&&(s=`${s}&orderBy=${r}`),o&&(s=`${s}&orderDirection=${o}`);var a=await this.$axios.get(s);200==a.status&&(this.data=a.data.pagedData,this.total=a.data.filteredCount,this.pageNumber=e,this.pageSize=t,this.loading=!1,this.sortBy=r,this.sortOrder=o)},changePage(e){this.fetch(e,this.pageSize,this.sortBy,this.sortOrder)},sizeChange(e){this.fetch(this.pageNumber,e,this.sortBy,this.sortOrder)},sortChange({prop:e,order:t}){this.fetch(this.pageNumber,this.pageSize,e,t)}}},C=_,F=(0,h.Z)(C,S,x,!1,null,null,null),O=F.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("NEW ORDER")]),t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"newOrderForm",staticClass:"demo-newOrderForm",staticStyle:{"margin-left":"20px"},attrs:{model:e.newOrderForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{label:"Customer:",prop:"customerId",required:""}},[t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.customerSearchLoading,expression:"customerSearchLoading"}],staticStyle:{width:"100%"},attrs:{autocomplete:"off",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":e.customerRemoteMethod,loading:e.customerSearchLoading},model:{value:e.newOrderForm.customerId,callback:function(t){e.$set(e.newOrderForm,"customerId",t)},expression:"newOrderForm.customerId"}},e._l(e.customerOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.fullName+" - "+e.email,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"Shop:",prop:"shopId",required:""}},[t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.shopSearchLoading,expression:"shopSearchLoading"}],staticStyle:{width:"100%"},attrs:{autocomplete:"off",filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":e.shopRemoteMethod,loading:e.shopSearchLoading},on:{change:e.onShopChange},model:{value:e.newOrderForm.shopId,callback:function(t){e.$set(e.newOrderForm,"shopId",t)},expression:"newOrderForm.shopId"}},e._l(e.shopOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name+" - "+e.location,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"Product:",prop:"items"}},[t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.productSearchLoading,expression:"productSearchLoading"}],staticStyle:{width:"100%"},attrs:{autocomplete:"off",disabled:!this.newOrderForm.shopId,filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":e.productRemoteMethod,loading:e.productSearchLoading},model:{value:e.newOrderForm.productId,callback:function(t){e.$set(e.newOrderForm,"productId",t)},expression:"newOrderForm.productId"}},e._l(e.productOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name+" - "+e.unitPrice+"đ",value:e.id}})})),1)],1),e._l(e.newOrderForm.items,(function(r,o){return t("div",{key:r.productId},[t("el-form-item",{key:r.productId,attrs:{label:o+1+")",prop:"items."+o+".quantity",required:"",rules:[{required:!0,message:"Please enter quantity",trigger:"blur"},{type:"number",message:"Quantity must be a number"}]}},[t("el-col",{attrs:{span:9}},[t("el-tag",{attrs:{size:"medium",type:"success"}},[e._v(e._s(e.getProductName(r.productId)))])],1),t("el-col",{attrs:{span:1}},[t("span",[e._v("x")])]),t("el-col",{staticClass:"line",attrs:{span:2}},[t("el-input",{attrs:{size:"mini",autocomplete:"off"},model:{value:r.quantity,callback:function(t){e.$set(r,"quantity",e._n(t))},expression:"item.quantity"}})],1),t("el-col",{attrs:{span:1}},[t("span",{attrs:{type:"warning"}},[e._v("items")])]),t("el-col",{attrs:{span:1}},[t("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete",circle:""},on:{click:function(t){return t.preventDefault(),e.removeProduct(r)}}})],1)],1)],1)})),t("el-form-item",[t("el-button",{directives:[{name:"show",rawName:"v-show",value:e.newOrderForm.productId&&!this.isExistedProduct(e.newOrderForm.productId),expression:"newOrderForm.productId && !this.isExistedProduct(newOrderForm.productId)"}],on:{click:e.addProduct}},[e._v("Add more")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newOrderForm")}}},[e._v("Submit")]),t("el-button",{on:{click:function(t){return e.resetForm("newOrderForm")}}},[e._v("Clear All")])],1)],2)],1)],1)},P=[],z=(r(7658),{data(){var e=(e,t,r)=>{t<=0?r(new Error("Please input the customer")):r()},t=(e,t,r)=>{t<=0?r(new Error("Please input the shop")):r()},r=(e,t,r)=>{t.length<=0?r(new Error("Please add product")):r()};return{customerList:[],customerOptions:[],customerSearchLoading:!1,shopList:[],shopOptions:[],shopSearchLoading:!1,productList:[],productOptions:[],productSearchLoading:!1,newOrderForm:{customerId:null,shopId:null,productId:null,items:[]},rules:{customerId:[{validator:e,trigger:"blur"}],shopId:[{validator:t,trigger:"blur"}],items:[{validator:r,trigger:"blur"}]}}},created(){this.fetch()},methods:{async fetch(){this.$axios.get("/customers").then((e=>{200==e.status&&(this.customerList=e.data.pagedData)})),this.$axios.get("/shops").then((e=>{200==e.status&&(this.shopList=e.data.pagedData)})),this.newOrderForm.shopId&&this.$axios.get(`/products?shopId=${this.newOrderForm.shopId}`).then((e=>{200==e.status&&(this.productList=e.data.pagedData)}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$confirm("Create new order now?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((async()=>{var e=await this.$axios.post("/orders",this.newOrderForm);200==e.status&&"success"===e.data.status&&(this.$message({type:"success",message:"Created!"}),this.$router.push("/orders"))})).catch((()=>{this.$message({type:"info",message:"Something went wrong!"})}))}))},resetForm(e){this.$refs[e].resetFields()},customerRemoteMethod(e){""!==e?(this.customerSearchLoading=!0,setTimeout((()=>{this.customerSearchLoading=!1,this.customerOptions=this.customerList.filter((t=>t.fullName.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())))}),200)):this.customerOptions=[]},shopRemoteMethod(e){""!==e?(this.shopSearchLoading=!0,setTimeout((()=>{this.shopSearchLoading=!1,this.shopOptions=this.shopList.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase())))}),200)):this.shopOptions=[]},productRemoteMethod(e){""!==e?(this.productSearchLoading=!0,setTimeout((()=>{this.productSearchLoading=!1,this.productOptions=this.productList.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())))}),200)):this.productOptions=[]},removeProduct(e){var t=this.newOrderForm.items.indexOf(e);-1!==t&&this.newOrderForm.items.splice(t,1)},addProduct(){if(this.newOrderForm.productId&&!this.isExistedProduct(this.newOrderForm.productId)){var e=this.productList.find((e=>e.id==this.newOrderForm.productId));this.newOrderForm.items.push({key:Date.now(),productId:this.newOrderForm.productId,unitPrice:e.unitPrice,quantity:null}),this.newOrderForm.productId=null}},isExistedProduct(e){return 1==this.newOrderForm.items?.some((t=>t.productId==e))},getProductName(e){var t=this.productList.find((t=>t.id==e));return t?t.name+" - "+t.unitPrice+"đ":"error"},onShopChange(e){this.$axios.get(`/products?shopId=${e}`).then((e=>{200==e.status&&(this.productList=e.data.pagedData)}))}}}),k=z,N=(0,h.Z)(k,$,P,!1,null,null,null),L=N.exports,I=function(){var e=this,t=e._self._c;return t("div",[t("el-empty",{staticStyle:{height:"680px"},attrs:{description:"Page Not Found"}})],1)},B=[],T={},E=T,D=(0,h.Z)(E,I,B,!1,null,null,null),q=D.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("CUSTOMER LIST")]),e.data&&e.data.length>0?t("div",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:"","default-sort":{prop:"email",order:"ascending"}},on:{"sort-change":e.sortChange}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",sortable:""}}),t("el-table-column",{attrs:{prop:"fullName",label:"Full Name"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"default",size:"small"}},[e._v(e._s(r.row.fullName))])]}}],null,!1,616831643)}),t("el-table-column",{attrs:{prop:"email",label:"Email",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"warning",size:"small"}},[e._v(e._s(r.row.email))])]}}],null,!1,624732226)}),t("el-table-column",{attrs:{prop:"dob",label:"Birthday"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"success",size:"small"}},[e._v(e._s(r.row.dob))])]}}],null,!1,1371861774)})],1),t("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, total",total:e.total,"page-size":e.pageSize,"page-sizes":[10,15,20,25,30]},on:{"current-change":e.changePage,"size-change":e.sizeChange}})],1):t("el-empty",{attrs:{description:"No records found!"}})],1)},R=[],Z={data(){return{data:[],total:0,pageNumber:1,pageSize:10,loading:!1,sortBy:"email",sortOrder:"ascending"}},created(){this.fetch(this.pageNumber,this.pageSize,this.sortBy,this.sortOrder)},methods:{async fetch(e,t,r,o){this.loading=!0;var s=`/customers?page=${e}&pageSize=${t}`;r&&(s=`${s}&orderBy=${r}`),o&&(s=`${s}&orderDirection=${o}`);var a=await this.$axios.get(s);200==a.status&&(this.data=a.data.pagedData,this.total=a.data.filteredCount,this.pageNumber=e,this.pageSize=t,this.loading=!1,this.sortBy=r,this.sortOrder=o,a.data.totalCount<30&&this.$alert("Not enough data, 30 customers as minimum","Warning",{confirmButtonText:"OK",type:"warning"}))},changePage(e){this.fetch(e,this.pageSize,this.sortBy,this.sortOrder)},sizeChange(e){this.fetch(this.pageNumber,e,this.sortBy,this.sortOrder)},sortChange({prop:e,order:t}){this.fetch(this.pageNumber,this.pageSize,e,t)}}},W=Z,U=(0,h.Z)(W,M,R,!1,null,null,null),j=U.exports,K=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("SHOP LIST")]),e.data&&e.data.length>0?t("div",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:"","default-sort":{prop:"location",order:"descending"}},on:{"sort-change":e.sortChange}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"Shop Name"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"default",size:"small"}},[e._v(e._s(r.row.name))])]}}],null,!1,4261683368)}),t("el-table-column",{attrs:{prop:"location",label:"Location",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"warning",size:"small"}},[e._v(e._s(r.row.location))])]}}],null,!1,4270643443)})],1),t("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, total",total:e.total,"page-size":e.pageSize,"page-sizes":[10,15,20,25,30]},on:{"current-change":e.changePage,"size-change":e.sizeChange}})],1):t("el-empty",{attrs:{description:"No records found!"}})],1)},A=[],H={data(){return{data:[],total:0,pageNumber:1,pageSize:10,loading:!1,sortBy:"location",sortOrder:"descending"}},created(){this.fetch(this.pageNumber,this.pageSize,this.sortBy,this.sortOrder)},methods:{async fetch(e,t,r,o){this.loading=!0;var s=`/shops?page=${e}&pageSize=${t}`;r&&(s=`${s}&orderBy=${r}`),o&&(s=`${s}&orderDirection=${o}`);var a=await this.$axios.get(s);200==a.status&&(this.data=a.data.pagedData,this.total=a.data.filteredCount,this.pageNumber=e,this.pageSize=t,this.loading=!1,this.sortBy=r,this.sortOrder=o,a.data.totalCount<3&&this.$alert("Not enough data, 03 shops as minimum","Warning",{confirmButtonText:"OK",type:"warning"}))},changePage(e){this.fetch(e,this.pageSize,this.sortBy,this.sortOrder)},sizeChange(e){this.fetch(this.pageNumber,e,this.sortBy,this.sortOrder)},sortChange({prop:e,order:t}){this.fetch(this.pageNumber,this.pageSize,e,t)}}},Q=H,G=(0,h.Z)(Q,K,A,!1,null,null,null),J=G.exports,V=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("PRODUCT LIST")]),t("el-input",{attrs:{placeholder:"Type to search server side",clearable:""},on:{input:e.onSearch},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.data&&e.data.length>0?t("div",[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.data,stripe:"","default-sort":{prop:"unitPrice",order:"descending"}},on:{"sort-change":e.sortChange}},[t("el-table-column",{attrs:{prop:"id",label:"ID",width:"60",sortable:""}}),t("el-table-column",{attrs:{prop:"name",label:"Product Name"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"default",size:"small"}},[e._v(e._s(r.row.name))])]}}],null,!1,4261683368)}),t("el-table-column",{attrs:{prop:"shopName",label:"Shop Name"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"warning",size:"small"}},[e._v(e._s(r.row.shopName))])]}}],null,!1,3675230061)}),t("el-table-column",{attrs:{prop:"unitPrice",label:"Unit Price",sortable:""},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-tag",{attrs:{type:"success",size:"small"}},[e._v(e._s(r.row.unitPrice)+" đ")])]}}],null,!1,571038070)})],1),t("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, total",total:e.total,"page-size":e.pageSize,"page-sizes":[10,15,20,25,30]},on:{"current-change":e.changePage,"size-change":e.sizeChange}})],1):t("el-empty",{attrs:{description:"No records found!"}})],1)},X=[],Y={data(){return{data:[],total:0,pageNumber:1,pageSize:10,loading:!1,search:"",sortBy:"unitPrice",sortOrder:"descending"}},created(){this.fetch(this.pageNumber,this.pageSize,this.sortBy,this.sortOrder,this.search)},methods:{async fetch(e,t,r,o,s){this.loading=!0;var a=`/products?page=${e}&pageSize=${t}`;r&&(a=`${a}&orderBy=${r}`),o&&(a=`${a}&orderDirection=${o}`),s&&(a=`${a}&search=${s}`);var i=await this.$axios.get(a);200==i.status&&(this.data=i.data.pagedData,this.total=i.data.filteredCount,this.pageNumber=e,this.pageSize=t,this.loading=!1,this.sortBy=r,this.sortOrder=o,i.data.totalCount<30&&this.$alert("Not enough data, 30 products as minimum","Warning",{confirmButtonText:"OK",type:"warning"}))},changePage(e){this.fetch(e,this.pageSize,this.sortBy,this.sortOrder,this.search)},sizeChange(e){this.fetch(this.pageNumber,e,this.sortBy,this.sortOrder,this.search)},sortChange({prop:e,order:t}){this.fetch(this.pageNumber,this.pageSize,e,t,this.search)},onSearch(e){this.fetch(this.pageNumber,this.pageSize,this.sortBy,this.sortOrder,e)}}},ee=Y,te=(0,h.Z)(ee,V,X,!1,null,null,null),re=te.exports,oe=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("NEW PRODUCT")]),t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"newProductForm",staticClass:"demo-newProductForm",staticStyle:{"margin-left":"20px"},attrs:{model:e.newProductForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{label:"Shop:",prop:"shopId",required:""}},[t("el-select",{directives:[{name:"loading",rawName:"v-loading",value:e.shopSearchLoading,expression:"shopSearchLoading"}],staticStyle:{width:"100%"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter a keyword","remote-method":e.shopRemoteMethod,loading:e.shopSearchLoading},on:{change:e.onShopChange},model:{value:e.newProductForm.shopId,callback:function(t){e.$set(e.newProductForm,"shopId",t)},expression:"newProductForm.shopId"}},e._l(e.shopOptions,(function(e){return t("el-option",{key:e.id,attrs:{label:e.name+" - "+e.location,value:e.id}})})),1)],1),t("el-form-item",{attrs:{label:"Product name:",prop:"name",required:""}},[t("el-input",{model:{value:e.newProductForm.name,callback:function(t){e.$set(e.newProductForm,"name",t)},expression:"newProductForm.name"}})],1),t("el-form-item",{attrs:{label:"Unit price (đ):",prop:"unitPrice",required:"",rules:[{required:!0,message:"Please enter unit price",trigger:"blur"},{type:"number",message:"Unit price must be a number"}]}},[t("el-input",{attrs:{autocomplete:"off"},model:{value:e.newProductForm.unitPrice,callback:function(t){e.$set(e.newProductForm,"unitPrice",e._n(t))},expression:"newProductForm.unitPrice"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newProductForm")}}},[e._v("Submit")]),t("el-button",{on:{click:function(t){return e.resetForm("newProductForm")}}},[e._v("Clear All")])],1)],1)],1)],1)},se=[],ae={data(){var e=(e,t,r)=>{t&&0!=t.length?r():r(new Error("Please input the product name"))},t=(e,t,r)=>{t<=0?r(new Error("Please input the shop")):r()};return{shopList:[],shopOptions:[],shopSearchLoading:!1,newProductForm:{shopId:null,name:null,unitPrice:null},rules:{name:[{validator:e,trigger:"blur"}],shopId:[{validator:t,trigger:"blur"}]}}},created(){this.fetch()},methods:{async fetch(){this.$axios.get("/shops").then((e=>{200==e.status&&(this.shopList=e.data.pagedData)}))},submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$confirm("Create new product now?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((async()=>{var e=await this.$axios.post("/products",this.newProductForm);200==e.status&&"success"===e.data.status&&(this.$message({type:"success",message:"Created!"}),this.$router.push("/products"))})).catch((()=>{this.$message({type:"info",message:"Something went wrong!"})}))}))},resetForm(e){this.$refs[e].resetFields()},shopRemoteMethod(e){""!==e?(this.shopSearchLoading=!0,setTimeout((()=>{this.shopSearchLoading=!1,this.shopOptions=this.shopList.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())||t.location.toLowerCase().includes(e.toLowerCase())))}),200)):this.shopOptions=[]}}},ie=ae,ne=(0,h.Z)(ie,oe,se,!1,null,null,null),le=ne.exports,ue=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("NEW SHOP")]),t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"newShopForm",staticClass:"demo-newShopForm",staticStyle:{"margin-left":"20px"},attrs:{model:e.newShopForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{label:"Shop name:",prop:"name",required:""}},[t("el-input",{model:{value:e.newShopForm.name,callback:function(t){e.$set(e.newShopForm,"name",t)},expression:"newShopForm.name"}})],1),t("el-form-item",{attrs:{label:"Location:",prop:"location",required:""}},[t("el-input",{model:{value:e.newShopForm.location,callback:function(t){e.$set(e.newShopForm,"location",t)},expression:"newShopForm.location"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newShopForm")}}},[e._v("Submit")]),t("el-button",{on:{click:function(t){return e.resetForm("newShopForm")}}},[e._v("Clear All")])],1)],1)],1)],1)},ce=[],de={data(){var e=(e,t,r)=>{t&&0!=t.length?r():r(new Error("Please input the shop name"))},t=(e,t,r)=>{t&&0!=t.length?r():r(new Error("Please input the shop location"))};return{newShopForm:{location:null,name:null},rules:{name:[{validator:e,trigger:"blur"}],location:[{validator:t,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$confirm("Create new shop now?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((async()=>{var e=await this.$axios.post("/shops",this.newShopForm);200==e.status&&"success"===e.data.status&&(this.$message({type:"success",message:"Created!"}),this.$router.push("/shops"))})).catch((()=>{this.$message({type:"info",message:"Something went wrong!"})}))}))},resetForm(e){this.$refs[e].resetFields()}}},pe=de,me=(0,h.Z)(pe,ue,ce,!1,null,null,null),he=me.exports,ge=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{height:"720px"}},[t("h1",[e._v("NEW CUSTOMER")]),t("el-card",{staticClass:"box-card"},[t("el-form",{ref:"newCustomerForm",staticClass:"demo-newCustomerForm",staticStyle:{"margin-left":"20px"},attrs:{model:e.newCustomerForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{label:"Customer full name:",prop:"fullName",required:""}},[t("el-input",{model:{value:e.newCustomerForm.fullName,callback:function(t){e.$set(e.newCustomerForm,"fullName",t)},expression:"newCustomerForm.fullName"}})],1),t("el-form-item",{attrs:{label:"Email:",prop:"email",required:""}},[t("el-input",{model:{value:e.newCustomerForm.email,callback:function(t){e.$set(e.newCustomerForm,"email",t)},expression:"newCustomerForm.email"}})],1),t("el-form-item",{attrs:{label:"Birthday:",prop:"dob",required:""}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{"picker-options":{disabledDate(e){return e.getTime()>Date.now()}},type:"date",placeholder:"Pick a day"},model:{value:e.newCustomerForm.dob,callback:function(t){e.$set(e.newCustomerForm,"dob",t)},expression:"newCustomerForm.dob"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("newCustomerForm")}}},[e._v("Submit")]),t("el-button",{on:{click:function(t){return e.resetForm("newCustomerForm")}}},[e._v("Clear All")])],1)],1)],1)],1)},fe=[],we={data(){var e=(e,t,r)=>{t&&0!=t.length?r():r(new Error("Please input the customer name"))},t=(e,t,r)=>{var o=new RegExp("[a-z0-9]+@[a-z]+.[a-z]{2,3}");t&&0!=t.length?o.test(t)?r():r(new Error("Invalid email format")):r(new Error("Please input the email"))},r=(e,t,r)=>{t&&0!=t.length?r():r(new Error("Please input the birthday"))};return{newCustomerForm:{email:null,fullName:null,dob:null},rules:{fullName:[{validator:e,trigger:"blur"}],email:[{validator:t,trigger:"blur"}],dob:[{validator:r,trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return!1;this.$confirm("Create new customer now?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then((async()=>{console.log(this.newCustomerForm);var e=await this.$axios.post("/customers",this.newCustomerForm);200==e.status&&"success"===e.data.status&&(this.$message({type:"success",message:"Created!"}),this.$router.push("/customers"))})).catch((()=>{this.$message({type:"info",message:"Something went wrong!"})}))}))},resetForm(e){this.$refs[e].resetFields()}}},ve=we,be=(0,h.Z)(ve,ge,fe,!1,null,null,null),ye=be.exports;const Se=[{path:"/",component:O},{path:"/orders",component:O},{path:"/new-order",component:L},{path:"/customers",component:j},{path:"/new-customer",component:ye},{path:"/shops",component:J},{path:"/new-shop",component:he},{path:"/products",component:re},{path:"/new-product",component:le},{path:"*",component:q}];var xe=Se,_e=r(4161);o["default"].config.productionTip=!1,o["default"].use(s.Z),o["default"].use(i(),{locale:n.Z});const Ce=new s.Z({routes:xe});_e.Z.defaults.baseURL="",o["default"].prototype.$axios=_e.Z,new o["default"]({router:Ce,render:e=>e(y)}).$mount("#app")}},t={};function r(o){var s=t[o];if(void 0!==s)return s.exports;var a=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.m=e,function(){r.amdO={}}(),function(){var e=[];r.O=function(t,o,s,a){if(!o){var i=1/0;for(c=0;c<e.length;c++){o=e[c][0],s=e[c][1],a=e[c][2];for(var n=!0,l=0;l<o.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](o[l])}))?o.splice(l--,1):(n=!1,a<i&&(i=a));if(n){e.splice(c--,1);var u=s();void 0!==u&&(t=u)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[o,s,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){r.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,o){var s,a,i=o[0],n=o[1],l=o[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(l)var c=l(r)}for(t&&t(o);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},o=self["webpackChunkstepmedia_demo"]=self["webpackChunkstepmedia_demo"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(6361)}));o=r.O(o)})();
//# sourceMappingURL=app.06082c69.js.map